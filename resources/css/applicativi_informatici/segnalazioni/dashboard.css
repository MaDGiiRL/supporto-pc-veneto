/* =========================================================
   SOR UI — CLEAN ENTERPRISE THEME (elegante, sobrio, pro)
   Mantiene le tue classi esistenti
   ========================================================= */

/* ---------- Reset ---------- */
* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
}

body {
    margin: 0;
    font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* ---------- Tokens ---------- */
:root {
    /* Brand (1 solo accento) */
    --primary: #2563eb;
    --primary-50: #eff6ff;
    --primary-600: #1d4ed8;
    --primary-700: #1e40af;

    /* Neutral */
    --bg: #f6f8fb;
    --card: #ffffff;
    --text: #0f172a;
    --text-2: #334155;
    --muted: #64748b;
    --muted-50: #f1f5f9;
    --line: #e2e8f0;

    /* Radius */
    --r-sm: .75rem;
    --r-md: 1rem;
    --r-lg: 1.25rem;

    /* Shadow (molto sobrie) */
    --sh-1: 0 1px 2px rgba(15, 23, 42, .05);
    --sh-2: 0 10px 28px rgba(15, 23, 42, .08);

    /* Focus */
    --ring: 0 0 0 4px rgba(37, 99, 235, .14);

    /* Event colors */
    --ev-sismico: #dc2626;
    --ev-sismico-50: #fef2f2;
    --ev-vulcanico: #9a3412;
    --ev-vulcanico-50: #fff7ed;
    --ev-idraulico: #0ea5e9;
    --ev-idraulico-50: #e0f2fe;
    --ev-idrogeologico: #10b981;
    --ev-idrogeologico-50: #d1fae5;
    --ev-maremoto: #0284c7;
    --ev-maremoto-50: #e0f2fe;
    --ev-deficit-idrico: #a16207;
    --ev-deficit-idrico-50: #fefce8;
    --ev-meteo-avverso: #7c3aed;
    --ev-meteo-avverso-50: #f3e8ff;
    --ev-aib: #f97316;
    --ev-aib-50: #ffedd5;
    --ev-uomo: #334155;
    --ev-uomo-50: #e2e8f0;

    /* Sections */
    --sec-gen: #8b5cf6;
    --sec-ongoing: #2563eb;

    /* Priority */
    --prio-alta: #fee2e2;
    --prio-alta-line: #ef4444;
    --prio-alta-text: #991b1b;
    --prio-media: #fff7ed;
    --prio-media-line: #f59e0b;
    --prio-media-text: #92400e;
    --prio-bassa: #ecfdf5;
    --prio-bassa-line: #10b981;
    --prio-bassa-text: #065f46;
    --prio-nessuna: #f1f5f9;
    --prio-nessuna-line: #94a3b8;
    --prio-nessuna-text: #334155;
}

body {
    color: var(--text);
    background: var(--bg);
}

/* ---------- Utility (tue) ---------- */
.p-6 {
    padding: 2rem;
}

.mb-4 {
    margin-bottom: 1rem;
}

.mb-6 {
    margin-bottom: 1.5rem;
}

.grid {
    display: grid;
}

.gap-3 {
    gap: .75rem;
}

.gap-4 {
    gap: 1rem;
}

.flex {
    display: flex;
}

.flex-wrap {
    flex-wrap: wrap;
}

.items-center {
    align-items: center;
}

.items-start {
    align-items: flex-start;
}

.justify-between {
    justify-content: space-between;
}

.rounded-2xl {
    border-radius: 1rem;
}

.text-sm {
    font-size: .875rem;
}

.text-xs {
    font-size: .75rem;
}

.text-xl {
    font-size: 1.25rem;
}

.font-semibold {
    font-weight: 600;
}

.shadow-card {
    box-shadow: var(--sh-2);
}

/* ---------- Links ---------- */
.link {
    color: var(--primary-700);
    text-decoration: underline;
    text-underline-offset: 2px;
    text-decoration-thickness: 1px;
    cursor: pointer;
}

.link:hover {
    color: var(--primary);
}

/* ---------- Focus ring ---------- */
:where(a, button, input, textarea, select, [tabindex]):focus-visible {
    outline: none;
    box-shadow: var(--ring);
    border-color: color-mix(in oklab, var(--primary) 35%, var(--line));
}

/* ---------- Inputs ---------- */
.input {
    height: 2.5rem;
    border: 1px solid var(--line);
    border-radius: .85rem;
    padding: .25rem .75rem;
    font-size: .875rem;
    background: #fff;
    color: var(--text);
    box-shadow: var(--sh-1);
    transition: border-color .15s ease, box-shadow .15s ease;
}

.input:hover {
    border-color: color-mix(in oklab, var(--primary) 15%, var(--line));
}

textarea.input {
    min-height: 5.5rem;
    padding: .5rem .75rem;
}

.label {
    font-size: .8rem;
    color: var(--text-2);
    font-weight: 600;
}

/* ---------- Tables ---------- */
table {
    border-collapse: separate;
    border-spacing: 0;
    width: 100%;
    background: #fff;
    border: 1px solid var(--line);
    border-radius: var(--r-md);
    overflow: hidden;
}

thead th {
    border-bottom: 1px solid var(--line);
    font-weight: 700;
    padding: .65rem .75rem;
    text-align: center;
    color: var(--text);
    background: #f8fafc;
}

tbody td {
    padding: .55rem .75rem;
    color: var(--text-2);
}

tbody tr:nth-child(even) {
    background: #fafbff;
}

tbody tr:hover {
    background: color-mix(in oklab, var(--primary-50) 60%, white);
}

.border-slate-200 {
    border-color: var(--line);
}

.border-t {
    border-top: 1px solid var(--line);
}

/* ---------- Pager ---------- */
.pager {
    display: flex;
    align-items: center;
    gap: .5rem;
    justify-content: center;
    margin-top: .75rem;
}

.pager__label {
    font-size: .85rem;
    opacity: .75;
    color: var(--text-2);
}

/* ---------- Badges ---------- */
.badge {
    display: inline-block;
    padding: .2rem .55rem;
    border-radius: .6rem;
    font-weight: 700;
    font-size: .75rem;
    border: 1px solid transparent;
    line-height: 1;
}

.badge--in {
    background: #ecfdf5;
    border-color: #bbf7d0;
    color: #166534;
}

.badge--out {
    background: #fff1f2;
    border-color: #fecdd3;
    color: #991b1b;
}

/* ---------- Sections (sec) ---------- */
.sec {
    --accent: #64748b;
    --thead: #f1f5f9;
    border: 1px solid var(--line);
    border-left: 8px solid var(--accent);
    border-radius: var(--r-lg);
    background: var(--card);
    box-shadow: var(--sh-2);
    padding: 1.25rem 1.25rem 1rem;
}

.sec h3 {
    color: var(--accent);
    margin: 0 0 .75rem 0;
    font-weight: 800;
    letter-spacing: -.01em;
}

.sec thead {
    background: var(--thead);
}

.sec--gen {
    --accent: var(--sec-gen);
    --thead: color-mix(in oklab, var(--sec-gen) 7%, #fff);
}

.sec--ongoing {
    --accent: var(--sec-ongoing);
    --thead: color-mix(in oklab, var(--sec-ongoing) 7%, #fff);
}

/* ---------- Modali ---------- */
.c-modal {
    position: fixed;
    inset: 0;
    z-index: 1000;
    display: none;
}

.c-modal.is-open {
    display: block;
}

.c-modal.hidden {
    display: none;
}

.c-modal__backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, .55);
}

.c-modal__dialog {
    position: relative;
    max-width: 90rem;
    width: min(100vw - 2rem, 90rem);
    margin: 1.5vh auto;
    background: #fff;
    border: 1px solid var(--line);
    border-radius: 1rem;
    box-shadow: 0 30px 80px rgba(0, 0, 0, .25);
    padding: 1.25rem;

    max-height: calc(100svh - 3vh);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;

    display: flex;
    flex-direction: column;
}

@media (max-width: 640px) {
    .c-modal__dialog {
        margin: 1vh auto;
        width: 100vw;
        max-height: calc(100svh - 2vh);
        border-radius: .85rem;
    }
}

#modal-gen .c-modal__dialog,
#modal-edit-gen .c-modal__dialog,
#modal-event .c-modal__dialog,
#modal-ev-form .c-modal__dialog,
#modal-all-reports .c-modal__dialog {
    max-width: 90rem;
    width: min(100vw - 2rem, 90rem);
    margin: 1.5vh auto;
    max-height: calc(100svh - 3vh);
}

#modal-gen-info .c-modal__dialog,
#modal-ev-info .c-modal__dialog,
#modal-readmore .c-modal__dialog {
    max-width: 48rem;
    width: min(96vw, 48rem);
    margin: 6vh auto;
    max-height: calc(100svh - 12vh);
}

.c-modal--overlay {
    z-index: 1100;
}

.c-modal--top {
    z-index: 1200;
}

.c-modal__close {
    position: absolute;
    top: .75rem;
    right: .75rem;
    width: 2rem;
    height: 2rem;
    border-radius: .6rem;
    border: 1px solid var(--line);
    background: #fff;
    box-shadow: var(--sh-1);
    cursor: pointer;
    display: grid;
    place-items: center;
    color: var(--text-2);
}

.c-modal__close:hover {
    border-color: color-mix(in oklab, var(--primary) 18%, var(--line));
}

/* ---------- Event cards ---------- */
.ev-card {
    --ev: var(--ev-meteo-avverso);
    --ev-50: var(--ev-meteo-avverso-50);

    border: 1px solid var(--line);
    border-left: 8px solid var(--ev);
    border-radius: 1rem;
    background: #fff;
    padding: 1rem 1rem .85rem;
    box-shadow: var(--sh-1);
    display: flex;
    flex-direction: column;
    gap: .5rem;
    cursor: pointer;
    transition: transform .08s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
}

.ev-card:hover {
    transform: translateY(-1px);
    box-shadow: var(--sh-2);
    background: var(--ev-50);
    border-color: color-mix(in oklab, var(--ev) 20%, var(--line));
}

.ev-card__head {
    display: flex;
    align-items: start;
    justify-content: space-between;
    gap: .5rem;
}

.ev-card__title {
    font-weight: 800;
    line-height: 1.3;
    margin: 0;
    color: var(--text);
}

.ev-card__chips {
    display: flex;
    align-items: center;
    gap: .4rem;
}

.ev-card__badge {
    font-size: .7rem;
    border: 1px solid color-mix(in oklab, var(--ev) 35%, white);
    background: color-mix(in oklab, var(--ev) 10%, white);
    color: color-mix(in oklab, var(--ev) 70%, black);
    border-radius: .55rem;
    padding: .15rem .5rem;
    font-weight: 700;
}

.ev-card__status {
    font-size: .7rem;
    border-radius: 999px;
    padding: .15rem .55rem;
    border: 1px solid transparent;
    font-weight: 800;
}

.ev-card__status.is-open {
    background: #dcfce7;
    color: #166534;
    border-color: #bbf7d0;
}

.ev-card__status.is-closed {
    background: #e5e7eb;
    color: #374151;
    border-color: #d1d5db;
}

.ev-card__meta {
    margin: 0;
    padding: 0;
    list-style: none;
    font-size: .87rem;
    color: var(--text-2);
    display: grid;
    gap: .15rem;
}

.ev-inline-status {
    display: inline-block;
    margin-left: .5rem;
    padding: .1rem .5rem;
    font-size: .7rem;
    border-radius: 999px;
    border: 1px solid transparent;
    font-weight: 800;
}

.ev-inline-status.is-open {
    background: #dcfce7;
    color: #166534;
    border-color: #bbf7d0;
}

.ev-inline-status.is-closed {
    background: #e5e7eb;
    color: #374151;
    border-color: #d1d5db;
}

/* Event type mapping */
.ev-card[data-type="sismico"] {
    --ev: var(--ev-sismico);
    --ev-50: var(--ev-sismico-50);
}

.ev-card[data-type="vulcanico"] {
    --ev: var(--ev-vulcanico);
    --ev-50: var(--ev-vulcanico-50);
}

.ev-card[data-type="idraulico"] {
    --ev: var(--ev-idraulico);
    --ev-50: var(--ev-idraulico-50);
}

.ev-card[data-type="idrogeologico"] {
    --ev: var(--ev-idrogeologico);
    --ev-50: var(--ev-idrogeologico-50);
}

.ev-card[data-type="maremoto"] {
    --ev: var(--ev-maremoto);
    --ev-50: var(--ev-maremoto-50);
}

.ev-card[data-type="deficit-idrico"] {
    --ev: var(--ev-deficit-idrico);
    --ev-50: var(--ev-deficit-idrico-50);
}

.ev-card[data-type="meteo-avverso"] {
    --ev: var(--ev-meteo-avverso);
    --ev-50: var(--ev-meteo-avverso-50);
}

.ev-card[data-type="aib"] {
    --ev: var(--ev-aib);
    --ev-50: var(--ev-aib-50);
}

.ev-card[data-type="uomo"] {
    --ev: var(--ev-uomo);
    --ev-50: var(--ev-uomo-50);
}

/* ---------- Legend ---------- */
.ongoing-legend {
    display: flex;
    flex-wrap: wrap;
    gap: .6rem .85rem;
    margin: .25rem 0 .75rem 0;
    align-items: center;
}

.ol-item {
    display: inline-flex;
    align-items: center;
    gap: .4rem;
    font-size: .8rem;
    color: var(--text-2);
    border: 1px solid var(--line);
    border-radius: .8rem;
    padding: .25rem .6rem;
    background: #fff;
}

.ol-dot {
    width: .85rem;
    height: .85rem;
    border-radius: 999px;
    display: inline-block;
    background: var(--ev);
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--ev) 20%, white) inset;
}

.ongoing-legend .ol-item[data-type="sismico"] {
    --ev: var(--ev-sismico);
}

.ongoing-legend .ol-item[data-type="vulcanico"] {
    --ev: var(--ev-vulcanico);
}

.ongoing-legend .ol-item[data-type="idraulico"] {
    --ev: var(--ev-idraulico);
}

.ongoing-legend .ol-item[data-type="idrogeologico"] {
    --ev: var(--ev-idrogeologico);
}

.ongoing-legend .ol-item[data-type="maremoto"] {
    --ev: var(--ev-maremoto);
}

.ongoing-legend .ol-item[data-type="deficit-idrico"] {
    --ev: var(--ev-deficit-idrico);
}

.ongoing-legend .ol-item[data-type="meteo-avverso"] {
    --ev: var(--ev-meteo-avverso);
}

.ongoing-legend .ol-item[data-type="aib"] {
    --ev: var(--ev-aib);
}

.ongoing-legend .ol-item[data-type="uomo"] {
    --ev: var(--ev-uomo);
}

.ongoing-legend .ol-item[data-type="altro"] {
    --ev: #64748b;
}

.prio-legend .ol-item[data-prio="alta"] {
    --ev: var(--prio-alta-line);
}

.prio-legend .ol-item[data-prio="media"] {
    --ev: var(--prio-media-line);
}

.prio-legend .ol-item[data-prio="bassa"] {
    --ev: var(--prio-bassa-line);
}

.prio-legend .ol-item[data-prio="nessuna"] {
    --ev: var(--prio-nessuna-line);
}

/* Priority badge + row */
.prio-badge {
    display: inline-block;
    padding: .15rem .5rem;
    border-radius: .6rem;
    font-weight: 800;
    font-size: .75rem;
    border: 1px solid transparent;
    line-height: 1;
}

.prio-badge.prio--alta {
    background: var(--prio-alta);
    color: var(--prio-alta-text);
    border-color: var(--prio-alta-line);
}

.prio-badge.prio--media {
    background: var(--prio-media);
    color: var(--prio-media-text);
    border-color: var(--prio-media-line);
}

.prio-badge.prio--bassa {
    background: var(--prio-bassa);
    color: var(--prio-bassa-text);
    border-color: var(--prio-bassa-line);
}

.prio-badge.prio--nessuna {
    background: var(--prio-nessuna);
    color: var(--prio-nessuna-text);
    border-color: var(--prio-nessuna-line);
}

tbody tr.prio-row {
    border-left: 6px solid transparent;
}

tbody tr.prio-row.prio--alta {
    border-left-color: var(--prio-alta-line);
    background: color-mix(in oklab, var(--prio-alta) 55%, white);
}

tbody tr.prio-row.prio--media {
    border-left-color: var(--prio-media-line);
    background: color-mix(in oklab, var(--prio-media) 55%, white);
}

tbody tr.prio-row.prio--bassa {
    border-left-color: var(--prio-bassa-line);
    background: color-mix(in oklab, var(--prio-bassa) 55%, white);
}

tbody tr.prio-row.prio--nessuna {
    border-left-color: var(--prio-nessuna-line);
    background: color-mix(in oklab, var(--prio-nessuna) 55%, white);
}

/* ---------- Mini card (ev-chip) ---------- */
.ev-chip {
    display: block;
    text-align: left;
    width: 100%;
    border: 1px solid var(--line);
    border-left: 8px solid var(--ev);
    border-radius: .9rem;
    background: #fff;
    padding: .55rem .6rem;
    cursor: pointer;
    transition: transform .08s ease, box-shadow .15s ease, background .15s ease;
    box-shadow: var(--sh-1);
}

.ev-chip:hover {
    transform: translateY(-1px);
    box-shadow: var(--sh-2);
    background: var(--ev-50);
}

.ev-chip__title {
    display: block;
    font-weight: 800;
    font-size: .8rem;
    line-height: 1.25;
    color: var(--text);
}

.ev-chip__meta {
    display: block;
    font-size: .7rem;
    opacity: .8;
    margin-top: .15rem;
    color: var(--text-2);
}

.ev-chip__status {
    display: inline-block;
    margin-top: .25rem;
    font-size: .68rem;
    font-weight: 800;
    padding: .1rem .45rem;
    border-radius: 999px;
    border: 1px solid transparent;
}

.ev-chip__status.is-open {
    background: #dcfce7;
    color: #166534;
    border-color: #bbf7d0;
}

.ev-chip__status.is-closed {
    background: #e5e7eb;
    color: #374151;
    border-color: #d1d5db;
}

/* Chip type mapping */
.ev-chip[data-type="sismico"] {
    --ev: var(--ev-sismico);
    --ev-50: var(--ev-sismico-50);
}

.ev-chip[data-type="vulcanico"] {
    --ev: var(--ev-vulcanico);
    --ev-50: var(--ev-vulcanico-50);
}

.ev-chip[data-type="idraulico"] {
    --ev: var(--ev-idraulico);
    --ev-50: var(--ev-idraulico-50);
}

.ev-chip[data-type="idrogeologico"] {
    --ev: var(--ev-idrogeologico);
    --ev-50: var(--ev-idrogeologico-50);
}

.ev-chip[data-type="maremoto"] {
    --ev: var(--ev-maremoto);
    --ev-50: var(--ev-maremoto-50);
}

.ev-chip[data-type="deficit-idrico"] {
    --ev: var(--ev-deficit-idrico);
    --ev-50: var(--ev-deficit-idrico-50);
}

.ev-chip[data-type="meteo-avverso"] {
    --ev: var(--ev-meteo-avverso);
    --ev-50: var(--ev-meteo-avverso-50);
}

.ev-chip[data-type="aib"] {
    --ev: var(--ev-aib);
    --ev-50: var(--ev-aib-50);
}

.ev-chip[data-type="uomo"] {
    --ev: var(--ev-uomo);
    --ev-50: var(--ev-uomo-50);
}

.ev-chip[data-type="altro"] {
    --ev: #64748b;
    --ev-50: #f1f5f9;
}

/* ---------- FIX modal evento (tuo) ---------- */
#modal-event .c-modal__dialog {
    padding-right: 3.25rem;
}

#modal-event .c-modal__close {
    top: .6rem;
    right: .6rem;
    width: 2rem;
    height: 2rem;
    padding: 0;
    border-radius: .5rem;
    background: #fff;
    border: 1px solid var(--line);
    box-shadow: var(--sh-1);
    z-index: 5;
}

#modal-event .c-modal__close * {
    pointer-events: none;
}

@media (max-width: 640px) {
    #modal-event .c-modal__dialog {
        padding-right: 3rem;
    }
}

#modal-event header .flex {
    flex-wrap: wrap;
    gap: .4rem;
}

/* ---------- Z-index overrides (tuoi) ---------- */
#modal-ev-form {
    z-index: 2000 !important;
}

#modal-ev-form .c-modal__backdrop {
    z-index: 1999 !important;
    background: rgba(0, 0, 0, .55);
}

#modal-ev-form .c-modal__dialog {
    z-index: 2001 !important;
}

#modal-event {
    z-index: 1300 !important;
}

#modal-all-reports {
    z-index: 1200 !important;
}

.c-modal.c-modal--overlay {
    z-index: 1400 !important;
}

.swal2-container {
    z-index: 1600 !important;
}

/* ---------- Tags + Tag-input ---------- */
.tags {
    display: flex;
    flex-wrap: wrap;
    gap: .4rem .5rem;
}

#ev-areas .tag {
    display: inline-flex;
    align-items: center;
    gap: .35rem;
    padding: .2rem .55rem;
    border-radius: .65rem;
    font-weight: 800;
    font-size: .75rem;
    background: #f8fafc;
    color: var(--text);
    border: 1px solid var(--line);
}

#ev-areas .tag::before {
    content: "";
    width: .45rem;
    height: .45rem;
    border-radius: 999px;
    background: var(--primary);
    opacity: .9;
}

#ev-areas .tag .tag__x {
    display: none !important;
}

.tag-input--wrap {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: .4rem;
    padding: .4rem .5rem;
    border: 1px solid var(--line);
    border-radius: .85rem;
    background: #fff;
    box-shadow: var(--sh-1);
}

.tag-input__control {
    flex: 1 1 10rem;
    min-width: 10rem;
}

.tag-input__field {
    display: block;
    width: 100%;
    height: 2rem;
    border: 0;
    outline: 0;
    font-size: .875rem;
    background: transparent;
    color: var(--text);
}

.tag {
    display: inline-flex;
    align-items: center;
    gap: .35rem;
    padding: .25rem .55rem;
    border-radius: .65rem;
    font-size: .75rem;
    font-weight: 800;
    background: var(--muted-50);
    color: var(--text);
    border: 1px solid var(--line);
}

.tag__x {
    display: inline-grid;
    place-items: center;
    width: 1rem;
    height: 1rem;
    border-radius: .25rem;
    background: #fff;
    border: 1px solid var(--line);
    cursor: pointer;
}

.tag__x:hover {
    background: #f8fafc;
}

/* ---------- Badge verso (tuo) ---------- */
#modal-all-reports table td[data-verso="E"],
#modal-all-reports table td[data-verso="U"] {
    text-align: center;
    padding: .45rem .5rem;
}

#modal-all-reports .badge--in,
#modal-all-reports .badge--out {
    display: inline-block;
    font-weight: 800;
    font-size: .75rem;
    line-height: 1;
    padding: .25rem .55rem;
    border-radius: .6rem;
    border: 1px solid transparent;
}

/* ---------- Preview ---------- */
.ev-preview {
    margin-top: .75rem;
    border: 1px solid var(--line);
    border-radius: .9rem;
    background: #fff;
    padding: .75rem;
    box-shadow: var(--sh-1);
}

.ev-preview__head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: .5rem;
}

.ev-preview__title {
    margin: 0;
    font-size: .9rem;
    font-weight: 800;
    color: var(--text);
}

.ev-preview__empty {
    font-size: .8rem;
    opacity: .75;
    padding: .25rem 0;
}

/* ---------- Actions center ---------- */
.actions {
    display: flex;
    gap: .25rem;
    justify-content: center;
    align-items: center;
}

table tbody td:last-child {
    text-align: center;
}

/* =========================================================
   SOR HNAV — Corporate Glass (FLAT, allineata, elegante)
   NIENTE ombre, niente floating, solo glass + primary
   ========================================================= */

.sor-hnav {
    border-radius: 1.25rem;
    border: 1px solid rgba(37, 99, 235, .18);
    background:
        radial-gradient(900px 260px at 12% -10%, var(--primary-50) 0%, transparent 60%),
        radial-gradient(700px 220px at 92% 0%, rgba(37, 99, 235, .12) 0%, transparent 60%),
        linear-gradient(180deg, #ffffff, #f6f9ff);
    box-shadow: none;
}

/* rimuove ogni glow / bagliore */
.sor-hnav::before {
    display: none;
}

/* ================= TOP BAR ================= */
.sor-hnav__top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: .8rem;
    padding: .9rem 1rem;
    border-bottom: 1px solid rgba(37, 99, 235, .18);
    background: rgba(239, 246, 255, .75);
}

/* titolo */
.sor-hnav__title {
    display: flex;
    align-items: center;
    gap: .55rem;
    font-weight: 900;
    color: var(--primary-700);
    letter-spacing: -.02em;
}

.sor-hnav__title::before {
    content: "";
    width: .6rem;
    height: .6rem;
    border-radius: 999px;
    background: var(--primary);
}

/* ================= CATEGORIE ================= */
.sor-hnav__cats {
    display: flex;
    gap: .3rem;
    padding: .25rem;
    border-radius: 999px;
    border: 1px solid rgba(37, 99, 235, .18);
    background: var(--primary-50);
}

/* tab categoria */
.sor-cat-tab {
    border: 0;
    border-radius: 999px;
    padding: .45rem .8rem;
    background: transparent;
    color: var(--primary-700);
    font-size: .78rem;
    font-weight: 800;
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    cursor: pointer;
    transition: background .15s ease, color .15s ease;
}

.sor-cat-tab:hover {
    background: rgba(37, 99, 235, .08);
}

.sor-cat-tab.is-active {
    background: linear-gradient(135deg, var(--primary), var(--primary-600));
    color: #fff;
}

/* count */
.sor-cat-tab__count {
    background: rgba(255, 255, 255, .65);
    color: inherit;
    font-size: .7rem;
    font-weight: 900;
    padding: .12rem .4rem;
    border-radius: 999px;
}

/* ================= RAIL ================= */
.sor-hnav__rail {
    padding: .8rem 1rem;
    overflow: hidden;
    background: linear-gradient(180deg, rgba(239, 246, 255, .9), rgba(255, 255, 255, 0));
}

/* fade */
.sor-hnav__rail::before,
.sor-hnav__rail::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    width: 48px;
    pointer-events: none;
}

.sor-hnav__rail::before {
    left: 0;
    background: linear-gradient(90deg, #f6f9ff, transparent);
}

.sor-hnav__rail::after {
    right: 0;
    background: linear-gradient(270deg, #f6f9ff, transparent);
}

/* gruppi */
.sor-hnav__group {
    display: none;
    gap: .55rem;
    white-space: nowrap;
    align-items: center;
}

.sor-hnav__group.is-active {
    display: flex;
}

/* ================= PILLS ================= */
.sor-pill {
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    padding: .55rem .9rem;
    border-radius: 999px;
    border: 1px solid rgba(37, 99, 235, .18);
    background: #fff;
    color: var(--primary-700);
    font-weight: 800;
    text-decoration: none;
    transition: background .15s ease, border-color .15s ease;
}

.sor-pill:hover {
    background: var(--primary-50);
    border-color: rgba(37, 99, 235, .35);
}

.sor-pill.is-active {
    background: linear-gradient(135deg, var(--primary), var(--primary-600));
    color: #fff;
    border-color: transparent;
}

/* icona */
.sor-pill__ico {
    width: 18px;
    height: 18px;
}

/* testo */
.sor-pill__txt {
    max-width: 220px;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* mobile */
@media(max-width:640px) {
    .sor-hnav__top {
        flex-direction: column;
        align-items: flex-start;
    }

    .sor-hnav__cats {
        width: 100%;
    }

    .sor-pill__txt {
        max-width: 160px;
    }
}